====================================================================================================
RELATÃ“RIO COMPLETO DE SIZING - INFERÃŠNCIA DE LLM
====================================================================================================

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ SEÃ‡ÃƒO 1: ENTRADAS                                                                                â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

Modelo: DeepSeek-V3.2
  â€¢ Camadas: 61
  â€¢ KV Heads: 128
  â€¢ Head Dim: 56
  â€¢ Max Context: 163,840
  â€¢ Attention Pattern: sliding

Servidor: dgx-b300
  â€¢ GPUs: 8
  â€¢ HBM per GPU: 288 GB
  â€¢ HBM Total: 2145.8 GiB
  â€¢ PotÃªncia mÃ¡xima: 14.5 kW
  â€¢ Rack: 10U

ConcorrÃªncia Alvo: 1,000 sessÃµes
Contexto Efetivo: 131,072 tokens
PrecisÃ£o KV: fp8

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ SEÃ‡ÃƒO 2: CONSUMO REAL DE VRAM                                                                    â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

CONSUMO UNITÃRIO:
  â€¢ Pesos do modelo: 637.96 GiB
  â€¢ KV cache por sessÃ£o: 1.67 GiB
  â€¢ Overhead runtime: 120.0 GiB

BUDGET E CAPACIDADE POR NÃ“:
  â€¢ HBM total: 2145.8 GiB
  â€¢ Budget para sessÃµes: 971.5 GiB
  â€¢ SessÃµes suportadas: 582

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ SEÃ‡ÃƒO 2.5: PERFIL DE STORAGE                                                                     â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

Storage: profile_default
  â€¢ Tipo: nvme_local
  â€¢ Capacidade total: 61.44 TB
  â€¢ Capacidade utilizÃ¡vel: 56.00 TB
  â€¢ IOPS leitura (max): 1,000,000
  â€¢ IOPS escrita (max): 800,000
  â€¢ Throughput leitura: 3500.0 MB/s (28.00 GB/s)
  â€¢ Throughput escrita: 3125.0 MB/s (25.00 GB/s)
  â€¢ LatÃªncia leitura (p50/p99): 0.08 / 0.15 ms
  â€¢ LatÃªncia escrita (p50/p99): 0.10 / 0.20 ms
  â€¢ Consumo fÃ­sico: 2U rack, 0.5 kW

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ SEÃ‡ÃƒO 2.6: POLÃTICA DE MARGEM DE CAPACIDADE                                                      â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

PolÃ­tica Ativa: parameters.json
Margem Aplicada: 50%
Tempo Alvo de Carga: 60 segundos
Justificativa da Margem: Margem recomendada para crescimento, retenÃ§Ã£o adicional e eventos nÃ£o previstos. Baseada em prÃ¡ticas de SRE e governanÃ§a de capacidade para ambientes de produÃ§Ã£o crÃ­ticos. Valor configurÃ¡vel conforme estratÃ©gia organizacional. target_load_time_sec define o tempo mÃ¡ximo aceitÃ¡vel (em segundos) para carregar pesos do modelo durante restart/scale-out, impactando o cÃ¡lculo de throughput pico de storage.

ObservaÃ§Ã£o: O tempo alvo de 60s define o tempo mÃ¡ximo aceitÃ¡vel para carregar
os pesos do modelo durante restart/scale-out, impactando o cÃ¡lculo de throughput pico de storage.

TABELA DE APLICAÃ‡ÃƒO DE MARGEM (CenÃ¡rio RECOMENDADO):

MÃ©trica                        Valor Base (TB)    Margem (%)      Valor Recomendado (TB)   
----------------------------------------------------------------------------------------
Storage (modelo)               6.23               50              9.35                     
Storage (cache)                3.70               50              5.55                     
Storage (logs)                 12.07              50              18.10                    
Storage (operacional)          0.06               50              0.06                     
----------------------------------------------------------------------------------------
TOTAL                          24.70              50              37.05                    

RACIONAL OPERACIONAL:
  â€¢ FÃ³rmula: Valor Recomendado = Valor Base Ã— (1 + 0.50)
  â€¢ Origem: parameters.json
  â€¢ Justificativa Operacional:
    - Crescimento orgÃ¢nico da plataforma sem reengenharia
    - RetenÃ§Ã£o adicional de logs para auditoria e anÃ¡lise post-mortem
    - ExpansÃ£o futura de capacidade sem pressÃ£o operacional
    - ReduÃ§Ã£o de risco de subdimensionamento e indisponibilidade
    - Margem de seguranÃ§a para eventos nÃ£o previstos (cascading failures, warmup concorrente)

NOTA EXECUTIVA:
  O valor BASE (24.70 TB) representa o dimensionamento tÃ©cnico mÃ­nimo.
  O valor RECOMENDADO (37.05 TB) incorpora margem estratÃ©gica de 50% para resiliÃªncia operacional.
  Esta margem Ã© governada por polÃ­tica organizacional e pode ser ajustada via --capacity-margin CLI ou parameters.json.

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ SEÃ‡ÃƒO 2.7: VOLUME DA PLATAFORMA POR SERVIDOR                                                     â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

Volume Estrutural: 675 GB/servidor (0.66 TB/servidor)
Fonte: 4 nÃ³s Ã— 0.66 TB = 2.64 TB total

TABELA DE BREAKDOWN POR COMPONENTE:

Componente                               Volume/Servidor (GB)   Volume Total (TB)    ObservaÃ§Ã£o          
------------------------------------------------------------------------------------------------------
Sistema Operacional                      120                    0.47                 Ubuntu/RHEL+drivers 
NVIDIA AI Enterprise                     250                    0.98                 CUDA,cuDNN,TensorRT 
Runtime de Containers                    80                     0.31                 Docker,K8s,imagens  
Engines de InferÃªncia                    150                    0.59                 TensorRT-LLM,vLLM,NIM
DependÃªncias da Plataforma               50                     0.20                 Python,NCCL,ML libs 
ConfiguraÃ§Ã£o e Metadados                 25                     0.10                 Helm,certs,secrets  
------------------------------------------------------------------------------------------------------
TOTAL por servidor                       675                    2.64                                     

TOTAL PLATAFORMA (todos os 4 nÃ³s): 2.64 TB

NOTA OPERACIONAL:
Cada servidor DGX requer 0.66 TB para a pilha completa de software. Total de 2.64 TB para 4 nÃ³(s). Este volume Ã© fixo e nÃ£o varia com concorrÃªncia ou modelo. CrÃ­tico para boot, runtime e operaÃ§Ã£o da plataforma.

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ SEÃ‡ÃƒO 3: RESULTADOS POR CENÃRIO                                                                  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

====================================================================================================
CENÃRIO: MÃNIMO
====================================================================================================

COMPUTAÃ‡ÃƒO:
  â€¢ NÃ³s DGX: 2
  â€¢ SessÃµes por nÃ³ (capacidade): 582
  â€¢ SessÃµes por nÃ³ (operando): 500
  â€¢ VRAM por nÃ³ (efetiva): 1591.9 GiB (74.2% HBM)

STORAGE:
  â€¢ Volumetria total (BASE): 18.38 TB
  â€¢ Volumetria total (RECOMENDADA): 27.58 TB (base + 50%)
    - Modelo (base/recomendado): 3.12 / 4.67 TB
    - Cache (base/recomendado): 1.85 / 2.78 TB
    - Logs (base/recomendado): 12.07 / 18.10 TB
    - Operacional (base/recomendado): 0.03 / 0.03 TB
    - Plataforma (base/recomendado): 1.32 / 1.98 TB (0.66 TB/servidor Ã— 2 nÃ³s)
  â€¢ IOPS (pico): 75,000 R / 3,000 W
  â€¢ IOPS (steady): 2,000 R / 1,000 W
  â€¢ Throughput (pico): 353.02 R / 0.01 W GB/s
  â€¢ Throughput (steady): 1.00 R / 0.00 W GB/s

INFRAESTRUTURA FÃSICA:
  â€¢ Energia (Compute): 29.0 kW
  â€¢ Energia (Storage): 0.5 kW
  â€¢ Energia (Total): 29.5 kW
  â€¢ Rack (Compute): 20U
  â€¢ Rack (Storage): 2U
  â€¢ Rack (Total): 22U
  â€¢ HA: none

====================================================================================================
CENÃRIO: RECOMENDADO
====================================================================================================

COMPUTAÃ‡ÃƒO:
  â€¢ NÃ³s DGX: 4
  â€¢ SessÃµes por nÃ³ (capacidade): 582
  â€¢ SessÃµes por nÃ³ (operando): 250
  â€¢ VRAM por nÃ³ (efetiva): 1175.0 GiB (54.8% HBM)

STORAGE:
  â€¢ Volumetria total (BASE): 24.70 TB
  â€¢ Volumetria total (RECOMENDADA): 37.05 TB (base + 50%)
    - Modelo (base/recomendado): 6.23 / 9.35 TB
    - Cache (base/recomendado): 3.70 / 5.55 TB
    - Logs (base/recomendado): 12.07 / 18.10 TB
    - Operacional (base/recomendado): 0.06 / 0.06 TB
    - Plataforma (base/recomendado): 2.64 / 3.96 TB (0.66 TB/servidor Ã— 4 nÃ³s)
  â€¢ IOPS (pico): 75,000 R / 3,000 W
  â€¢ IOPS (steady): 4,000 R / 1,000 W
  â€¢ Throughput (pico): 237.12 R / 0.01 W GB/s
  â€¢ Throughput (steady): 2.00 R / 0.00 W GB/s

INFRAESTRUTURA FÃSICA:
  â€¢ Energia (Compute): 58.0 kW
  â€¢ Energia (Storage): 0.5 kW
  â€¢ Energia (Total): 58.5 kW
  â€¢ Rack (Compute): 40U
  â€¢ Rack (Storage): 2U
  â€¢ Rack (Total): 42U
  â€¢ HA: n+1

====================================================================================================
CENÃRIO: IDEAL
====================================================================================================

COMPUTAÃ‡ÃƒO:
  â€¢ NÃ³s DGX: 5
  â€¢ SessÃµes por nÃ³ (capacidade): 540
  â€¢ SessÃµes por nÃ³ (operando): 200
  â€¢ VRAM por nÃ³ (efetiva): 1091.6 GiB (50.9% HBM)

STORAGE:
  â€¢ Volumetria total (BASE): 53.15 TB
  â€¢ Volumetria total (RECOMENDADA): 79.73 TB (base + 50%)
    - Modelo (base/recomendado): 7.79 / 11.68 TB
    - Cache (base/recomendado): 5.76 / 8.64 TB
    - Logs (base/recomendado): 36.21 / 54.31 TB
    - Operacional (base/recomendado): 0.10 / 0.10 TB
    - Plataforma (base/recomendado): 3.30 / 4.94 TB (0.66 TB/servidor Ã— 5 nÃ³s)
  â€¢ IOPS (pico): 100,000 R / 4,000 W
  â€¢ IOPS (steady): 5,000 R / 1,000 W
  â€¢ Throughput (pico): 544.29 R / 0.02 W GB/s
  â€¢ Throughput (steady): 2.50 R / 0.00 W GB/s

INFRAESTRUTURA FÃSICA:
  â€¢ Energia (Compute): 72.5 kW
  â€¢ Energia (Storage): 0.5 kW
  â€¢ Energia (Total): 73.0 kW
  â€¢ Rack (Compute): 50U
  â€¢ Rack (Storage): 2U
  â€¢ Rack (Total): 52U
  â€¢ HA: n+2

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ SEÃ‡ÃƒO 4: ALERTAS E AVISOS                                                                        â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

  â„¹ï¸  --tensor-parallel nÃ£o especificado. Assumindo TP = GPUs do servidor (8).
  âš ï¸ [MÃNIMO] Throughput leitura pico (353.02 GB/s) excede capacidade do storage (28.00 GB/s)
  âš ï¸ [RECOMENDADO] Throughput leitura pico (237.12 GB/s) excede capacidade do storage (28.00 GB/s)
  ğŸš¨ [IDEAL] Volumetria total RECOMENDADA (79.73 TB, base: 53.15 TB) excede capacidade utilizÃ¡vel do storage (56.00 TB)
  âš ï¸ [IDEAL] Throughput leitura pico (544.29 GB/s) excede capacidade do storage (28.00 GB/s)

====================================================================================================
FIM DO RELATÃ“RIO
====================================================================================================