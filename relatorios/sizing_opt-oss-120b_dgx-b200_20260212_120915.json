{
  "inputs": {
    "model": "opt-oss-120b",
    "server": "dgx-b200",
    "storage": "profile_default",
    "concurrency": 500,
    "effective_context": 65536,
    "kv_precision": "fp8"
  },
  "storage_profile": {
    "name": "profile_default",
    "type": "nvme_local",
    "capacity_total_tb": 61.44,
    "usable_capacity_tb": 56.0,
    "iops_read_max": 1000000,
    "iops_write_max": 800000,
    "throughput_read_mbps": 3500.0,
    "throughput_write_mbps": 3125.0,
    "block_size_kb_read": 3.584,
    "block_size_kb_write": 4.0,
    "latency_read_ms_p50": 0.08,
    "latency_read_ms_p99": 0.15,
    "latency_write_ms_p50": 0.1,
    "latency_write_ms_p99": 0.2,
    "rack_units_u": 2,
    "power_kw": 0.5
  },
  "scenarios": {
    "minimum": {
      "config": {
        "name": "MÍNIMO",
        "peak_headroom_ratio": 0.0,
        "ha_mode": "none",
        "kv_budget_ratio": 0.7
      },
      "results": {
        "fixed_model_gib": 120.0,
        "vram_per_session_gib": 1.1272,
        "sessions_budget_gib": 770.77,
        "sessions_per_node": 683,
        "sessions_per_node_effective": 500,
        "vram_total_node_effective_gib": 803.6,
        "hbm_utilization_ratio_effective": 0.5992,
        "nodes_capacity": 1,
        "nodes_with_headroom": 1,
        "nodes_final": 1,
        "total_power_kw": 14.3,
        "total_rack_u": 10,
        "total_heat_btu_hr": 48794.0,
        "storage_power_kw": 0.5,
        "storage_rack_u": 2,
        "total_power_kw_with_storage": 14.8,
        "total_rack_u_with_storage": 12,
        "storage": {
          "storage_model_tb": 0.293,
          "storage_cache_tb": 1.074,
          "storage_logs_tb": 6.035,
          "storage_operational_tb": 0.015,
          "storage_total_tb": 7.416,
          "iops_read_peak": 75000,
          "iops_write_peak": 1500,
          "iops_read_steady": 1000,
          "iops_write_steady": 500,
          "throughput_read_peak_gbps": 7.5,
          "throughput_write_peak_gbps": 0.01,
          "throughput_read_steady_gbps": 0.5,
          "throughput_write_steady_gbps": 0.0
        }
      },
      "rationale_storage": {
        "storage_model": {
          "formula": "storage_model_tb = weights_tb * total_replicas * storage_factor",
          "inputs": {
            "weights_gib": 120.0,
            "weights_tb": 0.1172,
            "num_nodes": 1,
            "replicas_per_node": 1,
            "total_replicas": 1,
            "storage_factor": 2.5
          },
          "assumption": "Fator 2.5x inclui: 1 cópia ativa + 1 backup + 0.5 para versionamento/rollback",
          "operational_meaning": "Armazena 1 réplicas do modelo com backup e capacidade de rollback. Crítico para restart rápido e scale-out."
        },
        "storage_cache": {
          "formula": "storage_cache_tb = ((base_cache + per_session_cache * sessions) * scenario_factor * num_nodes) / 1024",
          "inputs": {
            "base_cache_gib": 50.0,
            "per_session_cache_gib": 1.0,
            "sessions_per_node": 683,
            "num_nodes": 1,
            "scenario_factor": 1.5,
            "cache_per_node_gib": 1099.5
          },
          "assumption": "Cenário minimum: fator 1.5x para cache local e temporário",
          "operational_meaning": "Cache de engine compilado, artefatos e buffers temporários. Essencial para latência e throughput."
        },
        "storage_logs": {
          "formula": "storage_logs_tb = (concurrency / avg_duration * 86400 * bytes_per_req * retention_days) / (1024^4)",
          "inputs": {
            "concurrency": 500,
            "num_nodes": 1,
            "avg_request_duration_sec": 2.0,
            "requests_per_second": 250.0,
            "requests_per_day": 21600000.0,
            "bytes_per_request": 10240,
            "retention_days": 30,
            "logs_per_day_gib": 205.99
          },
          "assumption": "Cenário minimum: retenção de 30 dias. 10KB/req (logs+métricas), duração média 2s/req.",
          "operational_meaning": "Logs e métricas são críticos para debugging, auditoria e conformidade. Retenção inadequada compromete troubleshooting."
        },
        "storage_operational": {
          "formula": "storage_operational_tb = (operational_per_node * num_nodes * scenario_factor) / 1024",
          "inputs": {
            "operational_per_node_gib": 10.0,
            "num_nodes": 1,
            "scenario_factor": 1.5
          },
          "assumption": "Cenário minimum: fator 1.5x para dados operacionais",
          "operational_meaning": "Configurações, metadados e artefatos auxiliares. Essencial para orquestração e recuperação."
        },
        "storage_total": {
          "formula": "storage_total_tb = storage_model + storage_cache + storage_logs + storage_operational",
          "inputs": {
            "storage_model_tb": 0.293,
            "storage_cache_tb": 1.074,
            "storage_logs_tb": 6.035,
            "storage_operational_tb": 0.015
          },
          "assumption": "Cenário minimum: soma de todos os componentes de storage",
          "operational_meaning": "Total de 7.42 TB necessário para operação estável. Subdimensionamento compromete resiliência e tempo de recuperação."
        },
        "iops": {
          "formula": "IOPS = f(nodes_restarting, concurrency, scenario_factor)",
          "inputs": {
            "concurrency": 500,
            "num_nodes": 1,
            "nodes_restarting": 1,
            "iops_read_per_node_startup": 50000,
            "iops_read_per_node_steady": 1000,
            "scenario_factor": 1.5
          },
          "assumption": "Cenário minimum: 1 nós reiniciando simultaneamente (25%). Fator 1.5x para margem.",
          "operational_meaning": "IOPS pico (75,000 R / 1,500 W) suporta restart de 1 nós + burst de logs. IOPS steady (1,000 R / 500 W) para operação normal."
        },
        "throughput": {
          "formula": "Throughput = f(model_size, nodes_restarting, target_load_time, log_flush_rate)",
          "inputs": {
            "storage_model_tb": 0.29,
            "model_per_node_gib": 300.0,
            "num_nodes": 1,
            "nodes_restarting": 1,
            "target_load_time_sec": 60.0,
            "scenario_factor": 1.5
          },
          "assumption": "Cenário minimum: carregar modelo em <60.0s. 1 nós reiniciando (25%). Fator 1.5x.",
          "operational_meaning": "Throughput pico (7.50 R / 0.01 W GB/s) garante restart rápido. Throughput steady (0.50 R / 0.00 W GB/s) para operação contínua."
        }
      }
    },
    "recommended": {
      "config": {
        "name": "RECOMENDADO",
        "peak_headroom_ratio": 0.2,
        "ha_mode": "n+1",
        "kv_budget_ratio": 0.7
      },
      "results": {
        "fixed_model_gib": 120.0,
        "vram_per_session_gib": 1.1272,
        "sessions_budget_gib": 770.77,
        "sessions_per_node": 683,
        "sessions_per_node_effective": 167,
        "vram_total_node_effective_gib": 428.24,
        "hbm_utilization_ratio_effective": 0.3193,
        "nodes_capacity": 1,
        "nodes_with_headroom": 2,
        "nodes_final": 3,
        "total_power_kw": 42.9,
        "total_rack_u": 30,
        "total_heat_btu_hr": 146381.0,
        "storage_power_kw": 0.5,
        "storage_rack_u": 2,
        "total_power_kw_with_storage": 43.4,
        "total_rack_u_with_storage": 32,
        "storage": {
          "storage_model_tb": 0.879,
          "storage_cache_tb": 3.221,
          "storage_logs_tb": 6.035,
          "storage_operational_tb": 0.044,
          "storage_total_tb": 10.179,
          "iops_read_peak": 75000,
          "iops_write_peak": 1500,
          "iops_read_steady": 3000,
          "iops_write_steady": 500,
          "throughput_read_peak_gbps": 7.5,
          "throughput_write_peak_gbps": 0.01,
          "throughput_read_steady_gbps": 1.5,
          "throughput_write_steady_gbps": 0.0
        }
      },
      "rationale_storage": {
        "storage_model": {
          "formula": "storage_model_tb = weights_tb * total_replicas * storage_factor",
          "inputs": {
            "weights_gib": 120.0,
            "weights_tb": 0.1172,
            "num_nodes": 3,
            "replicas_per_node": 1,
            "total_replicas": 3,
            "storage_factor": 2.5
          },
          "assumption": "Fator 2.5x inclui: 1 cópia ativa + 1 backup + 0.5 para versionamento/rollback",
          "operational_meaning": "Armazena 3 réplicas do modelo com backup e capacidade de rollback. Crítico para restart rápido e scale-out."
        },
        "storage_cache": {
          "formula": "storage_cache_tb = ((base_cache + per_session_cache * sessions) * scenario_factor * num_nodes) / 1024",
          "inputs": {
            "base_cache_gib": 50.0,
            "per_session_cache_gib": 1.0,
            "sessions_per_node": 683,
            "num_nodes": 3,
            "scenario_factor": 1.5,
            "cache_per_node_gib": 1099.5
          },
          "assumption": "Cenário recommended: fator 1.5x para cache local e temporário",
          "operational_meaning": "Cache de engine compilado, artefatos e buffers temporários. Essencial para latência e throughput."
        },
        "storage_logs": {
          "formula": "storage_logs_tb = (concurrency / avg_duration * 86400 * bytes_per_req * retention_days) / (1024^4)",
          "inputs": {
            "concurrency": 500,
            "num_nodes": 3,
            "avg_request_duration_sec": 2.0,
            "requests_per_second": 250.0,
            "requests_per_day": 21600000.0,
            "bytes_per_request": 10240,
            "retention_days": 30,
            "logs_per_day_gib": 205.99
          },
          "assumption": "Cenário recommended: retenção de 30 dias. 10KB/req (logs+métricas), duração média 2s/req.",
          "operational_meaning": "Logs e métricas são críticos para debugging, auditoria e conformidade. Retenção inadequada compromete troubleshooting."
        },
        "storage_operational": {
          "formula": "storage_operational_tb = (operational_per_node * num_nodes * scenario_factor) / 1024",
          "inputs": {
            "operational_per_node_gib": 10.0,
            "num_nodes": 3,
            "scenario_factor": 1.5
          },
          "assumption": "Cenário recommended: fator 1.5x para dados operacionais",
          "operational_meaning": "Configurações, metadados e artefatos auxiliares. Essencial para orquestração e recuperação."
        },
        "storage_total": {
          "formula": "storage_total_tb = storage_model + storage_cache + storage_logs + storage_operational",
          "inputs": {
            "storage_model_tb": 0.879,
            "storage_cache_tb": 3.221,
            "storage_logs_tb": 6.035,
            "storage_operational_tb": 0.044
          },
          "assumption": "Cenário recommended: soma de todos os componentes de storage",
          "operational_meaning": "Total de 10.18 TB necessário para operação estável. Subdimensionamento compromete resiliência e tempo de recuperação."
        },
        "iops": {
          "formula": "IOPS = f(nodes_restarting, concurrency, scenario_factor)",
          "inputs": {
            "concurrency": 500,
            "num_nodes": 3,
            "nodes_restarting": 1,
            "iops_read_per_node_startup": 50000,
            "iops_read_per_node_steady": 1000,
            "scenario_factor": 1.5
          },
          "assumption": "Cenário recommended: 1 nós reiniciando simultaneamente (25%). Fator 1.5x para margem.",
          "operational_meaning": "IOPS pico (75,000 R / 1,500 W) suporta restart de 1 nós + burst de logs. IOPS steady (3,000 R / 500 W) para operação normal."
        },
        "throughput": {
          "formula": "Throughput = f(model_size, nodes_restarting, target_load_time, log_flush_rate)",
          "inputs": {
            "storage_model_tb": 0.88,
            "model_per_node_gib": 300.0,
            "num_nodes": 3,
            "nodes_restarting": 1,
            "target_load_time_sec": 60.0,
            "scenario_factor": 1.5
          },
          "assumption": "Cenário recommended: carregar modelo em <60.0s. 1 nós reiniciando (25%). Fator 1.5x.",
          "operational_meaning": "Throughput pico (7.50 R / 0.01 W GB/s) garante restart rápido. Throughput steady (1.50 R / 0.00 W GB/s) para operação contínua."
        }
      }
    },
    "ideal": {
      "config": {
        "name": "IDEAL",
        "peak_headroom_ratio": 0.3,
        "ha_mode": "n+2",
        "kv_budget_ratio": 0.65
      },
      "results": {
        "fixed_model_gib": 120.0,
        "vram_per_session_gib": 1.1272,
        "sessions_budget_gib": 715.72,
        "sessions_per_node": 634,
        "sessions_per_node_effective": 125,
        "vram_total_node_effective_gib": 380.9,
        "hbm_utilization_ratio_effective": 0.284,
        "nodes_capacity": 1,
        "nodes_with_headroom": 2,
        "nodes_final": 4,
        "total_power_kw": 57.2,
        "total_rack_u": 40,
        "total_heat_btu_hr": 195175.0,
        "storage_power_kw": 0.5,
        "storage_rack_u": 2,
        "total_power_kw_with_storage": 57.7,
        "total_rack_u_with_storage": 42,
        "storage": {
          "storage_model_tb": 1.172,
          "storage_cache_tb": 5.344,
          "storage_logs_tb": 18.105,
          "storage_operational_tb": 0.078,
          "storage_total_tb": 24.699,
          "iops_read_peak": 100000,
          "iops_write_peak": 2000,
          "iops_read_steady": 4000,
          "iops_write_steady": 500,
          "throughput_read_peak_gbps": 10.0,
          "throughput_write_peak_gbps": 0.01,
          "throughput_read_steady_gbps": 2.0,
          "throughput_write_steady_gbps": 0.0
        }
      },
      "rationale_storage": {
        "storage_model": {
          "formula": "storage_model_tb = weights_tb * total_replicas * storage_factor",
          "inputs": {
            "weights_gib": 120.0,
            "weights_tb": 0.1172,
            "num_nodes": 4,
            "replicas_per_node": 1,
            "total_replicas": 4,
            "storage_factor": 2.5
          },
          "assumption": "Fator 2.5x inclui: 1 cópia ativa + 1 backup + 0.5 para versionamento/rollback",
          "operational_meaning": "Armazena 4 réplicas do modelo com backup e capacidade de rollback. Crítico para restart rápido e scale-out."
        },
        "storage_cache": {
          "formula": "storage_cache_tb = ((base_cache + per_session_cache * sessions) * scenario_factor * num_nodes) / 1024",
          "inputs": {
            "base_cache_gib": 50.0,
            "per_session_cache_gib": 1.0,
            "sessions_per_node": 634,
            "num_nodes": 4,
            "scenario_factor": 2.0,
            "cache_per_node_gib": 1368.0
          },
          "assumption": "Cenário ideal: fator 2.0x para cache local e temporário",
          "operational_meaning": "Cache de engine compilado, artefatos e buffers temporários. Essencial para latência e throughput."
        },
        "storage_logs": {
          "formula": "storage_logs_tb = (concurrency / avg_duration * 86400 * bytes_per_req * retention_days) / (1024^4)",
          "inputs": {
            "concurrency": 500,
            "num_nodes": 4,
            "avg_request_duration_sec": 2.0,
            "requests_per_second": 250.0,
            "requests_per_day": 21600000.0,
            "bytes_per_request": 10240,
            "retention_days": 90,
            "logs_per_day_gib": 205.99
          },
          "assumption": "Cenário ideal: retenção de 90 dias. 10KB/req (logs+métricas), duração média 2s/req.",
          "operational_meaning": "Logs e métricas são críticos para debugging, auditoria e conformidade. Retenção inadequada compromete troubleshooting."
        },
        "storage_operational": {
          "formula": "storage_operational_tb = (operational_per_node * num_nodes * scenario_factor) / 1024",
          "inputs": {
            "operational_per_node_gib": 10.0,
            "num_nodes": 4,
            "scenario_factor": 2.0
          },
          "assumption": "Cenário ideal: fator 2.0x para dados operacionais",
          "operational_meaning": "Configurações, metadados e artefatos auxiliares. Essencial para orquestração e recuperação."
        },
        "storage_total": {
          "formula": "storage_total_tb = storage_model + storage_cache + storage_logs + storage_operational",
          "inputs": {
            "storage_model_tb": 1.172,
            "storage_cache_tb": 5.344,
            "storage_logs_tb": 18.105,
            "storage_operational_tb": 0.078
          },
          "assumption": "Cenário ideal: soma de todos os componentes de storage",
          "operational_meaning": "Total de 24.70 TB necessário para operação estável. Subdimensionamento compromete resiliência e tempo de recuperação."
        },
        "iops": {
          "formula": "IOPS = f(nodes_restarting, concurrency, scenario_factor)",
          "inputs": {
            "concurrency": 500,
            "num_nodes": 4,
            "nodes_restarting": 1,
            "iops_read_per_node_startup": 50000,
            "iops_read_per_node_steady": 1000,
            "scenario_factor": 2.0
          },
          "assumption": "Cenário ideal: 1 nós reiniciando simultaneamente (25%). Fator 2.0x para margem.",
          "operational_meaning": "IOPS pico (100,000 R / 2,000 W) suporta restart de 1 nós + burst de logs. IOPS steady (4,000 R / 500 W) para operação normal."
        },
        "throughput": {
          "formula": "Throughput = f(model_size, nodes_restarting, target_load_time, log_flush_rate)",
          "inputs": {
            "storage_model_tb": 1.17,
            "model_per_node_gib": 300.0,
            "num_nodes": 4,
            "nodes_restarting": 1,
            "target_load_time_sec": 60.0,
            "scenario_factor": 2.0
          },
          "assumption": "Cenário ideal: carregar modelo em <60.0s. 1 nós reiniciando (25%). Fator 2.0x.",
          "operational_meaning": "Throughput pico (10.00 R / 0.01 W GB/s) garante restart rápido. Throughput steady (2.00 R / 0.00 W GB/s) para operação contínua."
        }
      }
    }
  },
  "warnings": [
    "ℹ️  --tensor-parallel não especificado. Assumindo TP = GPUs do servidor (8)."
  ]
}